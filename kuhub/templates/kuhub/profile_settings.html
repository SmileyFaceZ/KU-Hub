{% extends "base.html" %}

{% block title %}
    <title>Profile</title>
{% endblock %}

{% load static %}
    <script src="https://kit.fontawesome.com/69adf0a164.js" crossorigin="anonymous"></script>

{% block content %}

{% if messages %}
    {% for message in messages %}
        <div class="alert alert-{{ message.tags }} alert-dismissible fade show" role="alert">
            {{ message }}
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
        </div>
    {% endfor %}
{% endif %}

<div class="container">
    {% if user.is_authenticated %}
        <div class="welcome">Hi, {{ user.username }}!</div>
        {% if biography %}
            <p>Biography: {{ biography }}</p>
        {% else %}
            <form method="post" enctype="multipart/form-data">
            {% csrf_token %}
            {{ form.as_p }}
            <button type="submit">Save</button>
            </form>
        {% endif %}
        <p>Followers: {{ followers.count }}</p>
        <p>Following: {{ following.count }}</p>
    {% else %}
        <h1>Please login or signup first.</h1>
    {% endif %}
</div>
<link rel="stylesheet" href="{% static 'kuhub/style.css' %}">

{% endblock %}

<!--<form method="post" enctype="multipart/form-data">-->
<!--    {% csrf_token %}-->
<!--    {{ form.as_p }}-->
<!--    <button type="submit">Save</button>-->
<!--</form>-->

<!--<p>Username: {{ user.username }}</p>-->
<!--<p>Followers: {{ followers.count }}</p>-->
<!--<p>Following: {{ following.count }}</p>-->

<!--<h2>Following</h2>-->
<!--<ul>-->
<!--    {% for follow in following %}-->
<!--        <li>{{ follow.user_followed.username }}</li>-->
<!--    {% empty %}-->
<!--        <li>You are not following anyone yet.</li>-->
<!--    {% endfor %}-->
<!--</ul>-->

<!--<h2>Followers</h2>-->
<!--<ul>-->
<!--    {% for follow in followers %}-->
<!--        <li>{{ follow.follower.username }}</li>-->
<!--    {% empty %}-->
<!--        <li>You have no followers yet.</li>-->
<!--    {% endfor %}-->
<!--</ul>-->
